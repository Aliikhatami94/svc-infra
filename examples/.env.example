# ============================================================================
# Application
# ============================================================================
APP_ENV=local
LOG_LEVEL=INFO
LOG_FORMAT=plain

# API Configuration
API_HOST=0.0.0.0
API_PORT=8001

# ============================================================================
# Database Configuration
# ============================================================================
# SQLite (easy local development - no setup required!)
SQL_URL=sqlite+aiosqlite:////tmp/svc_infra_template.db

# Local relative path (alternative)
# SQL_URL=sqlite+aiosqlite:///./svc_infra_template.db

# PostgreSQL (production recommended)
# SQL_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/svc_infra_template

# PostgreSQL (for production)
# SQL_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/svc_infra_template

# Connection Pool Settings
# SQL_POOL_SIZE=5
# SQL_MAX_OVERFLOW=10
# SQL_POOL_TIMEOUT=30

# ============================================================================
# Cache Configuration (Redis)
# ============================================================================
REDIS_URL=redis://localhost:6379/0
CACHE_PREFIX=svc_infra_template
CACHE_VERSION=v1
CACHE_DEFAULT_TTL=3600

# ============================================================================
# Security
# ============================================================================
SECURITY_ENABLED=true

# ============================================================================
# Timeouts & Resource Limits
# ============================================================================
# Handler timeout (seconds) - protects against slow endpoints
# TIMEOUT_HANDLER_SECONDS=30

# Body read timeout (seconds) - protects against slow clients
# TIMEOUT_BODY_READ_SECONDS=10

# Max request body size (MB) - protects against large uploads
# REQUEST_MAX_SIZE_MB=10

# ============================================================================
# Graceful Shutdown
# ============================================================================
GRACEFUL_SHUTDOWN_ENABLED=true
GRACEFUL_SHUTDOWN_TIMEOUT_SECONDS=30

# ============================================================================
# Authentication & Authorization
# ============================================================================
AUTH_ENABLED=false  # Enable when auth models are configured

# Secret key for JWT tokens (generate with: openssl rand -hex 32)
AUTH_SECRET=your-secret-key-here-change-in-production

# JWT Configuration
AUTH_JWT_ALGORITHM=HS256
AUTH_ACCESS_TOKEN_EXPIRE_MINUTES=30
AUTH_REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Policy
AUTH_MIN_PASSWORD_LENGTH=8
AUTH_REQUIRE_UPPERCASE=true
AUTH_REQUIRE_LOWERCASE=true
AUTH_REQUIRE_DIGITS=true
AUTH_REQUIRE_SPECIAL_CHARS=true

# Account Lockout
AUTH_MAX_LOGIN_ATTEMPTS=5
AUTH_LOCKOUT_DURATION_MINUTES=30

# Email Verification
AUTH_REQUIRE_EMAIL_VERIFICATION=false
# AUTH_VERIFICATION_TOKEN_EXPIRE_HOURS=24

# OAuth Providers (optional)
# AUTH_GOOGLE_CLIENT_ID=your-google-client-id
# AUTH_GOOGLE_CLIENT_SECRET=your-google-client-secret
# AUTH_GITHUB_CLIENT_ID=your-github-client-id
# AUTH_GITHUB_CLIENT_SECRET=your-github-client-secret

# ============================================================================
# Payments Configuration
# ============================================================================
# Provider: stripe, adyen, fake
PAYMENT_PROVIDER=fake

# Stripe
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_PUBLISHABLE_KEY=pk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# Adyen
# ADYEN_API_KEY=your-adyen-api-key
# ADYEN_MERCHANT_ACCOUNT=your-merchant-account
# ADYEN_ENVIRONMENT=test

# ============================================================================
# Observability (Metrics & Tracing)
# ============================================================================
# Prometheus Metrics
METRICS_ENABLED=true
METRICS_PATH=/metrics

# OpenTelemetry Tracing
# OTEL_ENABLED=false
# OTEL_SERVICE_NAME=svc-infra-template
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# Grafana Cloud (optional)
# GRAFANA_CLOUD_INSTANCE_ID=your-instance-id
# GRAFANA_CLOUD_API_KEY=your-api-key
# GRAFANA_CLOUD_PROMETHEUS_URL=https://prometheus-...-prod-us-central-0.grafana.net
# GRAFANA_CLOUD_TEMPO_URL=https://tempo-...-prod-us-central-0.grafana.net

# ============================================================================
# Webhooks (Outbound Events)
# ============================================================================
WEBHOOKS_ENABLED=true
WEBHOOKS_MAX_RETRIES=3
WEBHOOKS_RETRY_BACKOFF_SECONDS=60

# Webhook Signing
WEBHOOKS_SECRET=your-webhook-signing-secret

# ============================================================================
# Rate Limiting
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ============================================================================
# Idempotency
# ============================================================================
IDEMPOTENCY_ENABLED=true
IDEMPOTENCY_HEADER=Idempotency-Key
IDEMPOTENCY_TTL_SECONDS=86400

# ============================================================================
# Multi-Tenancy
# ============================================================================
TENANCY_ENABLED=false
# TENANCY_RESOLUTION=header  # Options: header, subdomain, path
# TENANCY_HEADER_NAME=X-Tenant-ID

# ============================================================================
# Admin & Operations
# ============================================================================
ADMIN_ENABLED=true
ADMIN_IMPERSONATION_ENABLED=true

# Maintenance Mode
MAINTENANCE_MODE=false
# MAINTENANCE_MESSAGE=We're performing scheduled maintenance. Back soon!

# ============================================================================
# Background Jobs
# ============================================================================
JOBS_ENABLED=true
# Job driver: "memory" (in-memory queue) or "redis" (persistent queue)
JOBS_DRIVER=memory

# Redis URL (only needed if JOBS_DRIVER=redis)
# REDIS_URL=redis://localhost:6379/1

# ============================================================================
# Data Lifecycle & Compliance
# ============================================================================
DATA_RETENTION_DAYS=365
DATA_ARCHIVAL_ENABLED=false
# DATA_ARCHIVAL_S3_BUCKET=my-archive-bucket
DATA_AUTO_MIGRATE=true  # Run database migrations on startup

# GDPR Compliance
GDPR_ENABLED=false
# GDPR_AUTO_DELETE_AFTER_DAYS=30

# ============================================================================
# CORS (Cross-Origin Resource Sharing)
# ============================================================================
CORS_ENABLED=true
# CORS_ORIGINS=https://app.example.com,https://www.example.com
# CORS_ALLOW_CREDENTIALS=true
# CORS_ALLOW_METHODS=GET,POST,PUT,PATCH,DELETE
# CORS_ALLOW_HEADERS=*

# ============================================================================
# Documentation
# ============================================================================
DOCS_ENABLED=true
DOCS_PATH=/docs
REDOC_PATH=/redoc

# SDK Generation
SDK_GENERATION_ENABLED=false

# ============================================================================
# Email (for notifications, verification, etc.)
# ============================================================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@example.com
# SMTP_FROM_NAME=SVC Infra Template

# ============================================================================
# Billing & Subscriptions
# ============================================================================
BILLING_ENABLED=false
# BILLING_PROVIDER=fake  # Options: stripe, fake
# BILLING_PLANS=free:0,pro:9.99,enterprise:49.99
# BILLING_METERED_ENABLED=false
# BILLING_METERED_UNIT=request
BILLING_QUOTA_ENFORCEMENT=true

# ============================================================================
# External Services
# ============================================================================
# Sentry (Error Tracking)
# SENTRY_DSN=https://...@sentry.io/...
# SENTRY_ENVIRONMENT=local

# AWS
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1

# ============================================================================
# Feature Flags
# ============================================================================
# FEATURE_NEW_BILLING=false
# FEATURE_BETA_DASHBOARD=false
